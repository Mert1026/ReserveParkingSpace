<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:control="clr-namespace:Syncfusion.Maui.Calendar;assembly=Syncfusion.Maui.Calendar"
             x:Class="ReserveParkingSpace_Mobile_.MainPage"
             BackgroundColor="#f5f9ff">


    <Grid RowDefinitions="Auto,*">

        <!-- ✅ Custom Top Navigation Bar -->
        <Grid BackgroundColor="#3a6bc8" Padding="10" Row="0" ColumnSpacing="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Logo on the left -->
            <Image Source="logo.png"
                   HeightRequest="40"
                   VerticalOptions="Center"
                   HorizontalOptions="Start" />

            <!-- Title (optional) in center -->
            <Label Text=""
                   Grid.Column="1"
                   FontSize="20"
                   TextColor="White"
                   HorizontalTextAlignment="Center"
                   VerticalOptions="Center" />

            <!-- Optional Info or Logout button on right -->
            <ImageButton Source="settings.png"
                    Grid.Column="2"
                         HorizontalOptions="Center"
                         VerticalOptions="Center"
                    BackgroundColor="Transparent"   
                         HeightRequest="30"
                         WidthRequest="30"
                    Clicked="OnInfoClicked" />
        </Grid>


        <Frame x:Name="InfoBox"
       Grid.Row="1"
       BackgroundColor="#e1f5fe"
       BorderColor="Gray"
       Padding="20"
       CornerRadius="15"
       Margin="90,5,0,0"
       IsVisible="False"
       HorizontalOptions="Center"
       VerticalOptions="Start"
       WidthRequest="300"
       ZIndex="10">

            <VerticalStackLayout Spacing="15">
                <Label Text="PlaceHolder Name" FontSize="18" TextColor="Black" HorizontalOptions="Center" />

                <Grid ColumnSpacing="10" Padding="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                
                    <Label
                        Text="Language:"
                        FontSize="18"
                        FontFamily="Poppins"
                        Grid.Column="0"
                                 Grid.Row="0"
                        TextColor="Black"
                        HorizontalTextAlignment="Start"
                        VerticalOptions="Center" />
                    <Picker 
                       Title="Select a language"
                       Grid.Column="1"
                       HorizontalOptions="End"
                        TextColor="Black"
                       VerticalOptions="Center"
                       FontAttributes="Bold">
                        <Picker.Items>
                            <x:String>English</x:String>
                            <x:String>Bulgarian</x:String>
                        </Picker.Items>
                    </Picker>

                    <Label
                            Text="Theme:"
                            FontSize="20"
                            FontFamily="Poppins"
                            Grid.Column="0"
                            Grid.Row="1"
                            TextColor="Black"
                            HorizontalTextAlignment="Start"
                            VerticalOptions="Center" />
                    <Picker 
               Title="Select a theme"
               Grid.Column="1"
                        Grid.Row="2"
               HorizontalOptions="End"
                 TextColor="Black"
               VerticalOptions="Center"
               FontAttributes="Bold">
                        <Picker.Items>
                            <x:String>Dark</x:String>
                            <x:String>Light</x:String>
                        </Picker.Items>
                    </Picker>
                </Grid>
                <Button
                    Text="Log Out"
                    Grid.Column="1"
                    HorizontalOptions="End"
                    VerticalOptions="Center"
                    BackgroundColor="#FF3B30"
                    TextColor="White"
                    FontAttributes="Bold"
                    WidthRequest="200"
                    CornerRadius="20"
                    Padding="10"
                    Clicked="OnCounterClicked" />
                    

            </VerticalStackLayout>
        </Frame>
        <ScrollView Grid.Row="1">
            <VerticalStackLayout x:Name="MainLayout" VerticalOptions="Fill" Spacing="20">

            
            <Label Text="Map" TextColor="Black" HorizontalOptions="Center" FontFamily="Poppins-Medium" FontSize="31" Margin="0,20,0,0"/>
               
                <!--Sortig info-->
                <Frame Padding="0" WidthRequest="370" CornerRadius="15" BackgroundColor="#3a6bc8" BorderColor="Transparent">
                    <StackLayout>
                        
                   
                    <Grid ColumnSpacing="10" Padding="20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                
                           
                            <Label 
                                 Text="Choose a shift:"
                                 Grid.Column="0"
                            
                                 VerticalOptions="Center"/>
                            <Picker 
                                 Title="Select a shift"
                                 Grid.Column="1"
                              
                                 TextColor="White"
                                 VerticalOptions="Center"
                                 FontAttributes="Bold">
                                <Picker.Items>
                                    <x:String>First Shift</x:String>
                                    <x:String>Second Shift</x:String>
                                    <x:String>Full Shift</x:String>
                                </Picker.Items>
                            </Picker>
                            <Label 
                                 Text="Choose date:"
                                 Grid.Column="2"
                               
                                 VerticalOptions="Center"
                                HorizontalOptions="Center"/>
                            <ImageButton
                                Source="calendar.png"
                                Grid.Column="3"
                                Grid.Row="0"
                                Margin="0"
                                Clicked="ShowCalendar"
                                WidthRequest="20"
                                HeightRequest="20"
                                VerticalOptions="Center"
                                HorizontalOptions="Center"
                                />
                        
                    </Grid>
                        <!-- Calendar -->
                        <control:SfCalendar
                         x:Name="CalendarLayout"
                         SelectionMode="Range"
                         SelectedDates="{Binding MySelectedDates}"
                         Grid.Row="2"      
                         Margin="20,20,20,20"
                         IsVisible="False"
                             StartRangeSelectionBackground="#3a6bc8" 
                            EndRangeSelectionBackground="#3a6bc8" 
                            SelectionBackground="#4fc3f7"
                            TodayHighlightBrush="Blue"
                            BackgroundColor="#e1f5fe">
                            
                           
                    </control:SfCalendar>
                    </StackLayout>
                </Frame>

             
               

                <!-- Map Info -->
                <VerticalStackLayout Spacing="5">
                <Frame HeightRequest="670" Padding="0" VerticalOptions="Start" WidthRequest="370" BorderColor="Transparent" CornerRadius="25" BackgroundColor="Transparent" Margin="0,0,0,0">
                    <AbsoluteLayout VerticalOptions="FillAndExpand">

                        <!-- Background Image -->
                        <Image Source="empy_parking_lot.png"
                           AbsoluteLayout.LayoutBounds="0, 0, 1, 1"
                           AbsoluteLayout.LayoutFlags="All"
                           Aspect="AspectFill" />

                        <!-- Car Buttons -->
                        <ImageButton Source="car1.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,-1080"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car2.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,-700"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car3.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,-320"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car4.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,50"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car5.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,410"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car6.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,790"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car7.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,1200"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car8.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,1550"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car9.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,1950"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton x:Name="pngSeven" Source="car10.png" HeightRequest="40" WidthRequest="80"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,550,2320"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car11.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,235,-1080"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car12.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                  AbsoluteLayout.LayoutBounds="0.12, 0.61,235,-700"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car13.png" HeightRequest="40" WidthRequest="80"
                             AbsoluteLayout.LayoutBounds="0.12, 0.61,235,-320"
                           AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car14.png" HeightRequest="40" WidthRequest="80"
                                  AbsoluteLayout.LayoutBounds="0.12, 0.61,235,50"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car15.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,235,410"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car16.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,235,820"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car17.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                    AbsoluteLayout.LayoutBounds="0.12, 0.61,235,1200"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car18.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,235,1580"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton x:Name="pngOne" Source="car19.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                 AbsoluteLayout.LayoutBounds="0.12, 0.61,235,1950"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />

                        <ImageButton Source="car20.png" HeightRequest="40" WidthRequest="80" Rotation="0"
                                  AbsoluteLayout.LayoutBounds="0.12, 0.61,235,2320"
                                 AbsoluteLayout.LayoutFlags="PositionProportional" />
                    </AbsoluteLayout>
                </Frame>
            </VerticalStackLayout>



                <!-- Select options-->
                <Frame HeightRequest="80" Padding="0" WidthRequest="370" CornerRadius="15" BackgroundColor="#3a6bc8" BorderColor="Transparent" Margin="0,0,0,20">
                    <Grid ColumnSpacing="10" Padding="20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Label
                            Text="Spot: PlaceHolder"
                            FontSize="18"
                            FontFamily="Poppins"
                            Grid.Column="0"
                            TextColor="White"
                            HorizontalTextAlignment="Start"
                            VerticalOptions="Center"
/>

                        <Button 
                            Text="Select"
                            Grid.Column="1"
                            HorizontalOptions="End"
                            VerticalOptions="Center"
                            BackgroundColor="#4fc3f7"
                            TextColor="White"
                            FontAttributes="Bold"
                            HeightRequest="50"
                            WidthRequest="150"
                            CornerRadius="15"
                            Padding="10"
                            Clicked="OnCounterClicked"/>
                    </Grid>
                </Frame>
            </VerticalStackLayout>
    </ScrollView>

    </Grid>
</ContentPage>
